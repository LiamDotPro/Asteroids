<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Asteroids</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

</head>
<body>
    <h1 id="id"></h1>
    <div id="canvas"></div>
    <script type="text/javascript" src="/src/Canvas.js"></script>
    <script type="text/javascript" src="/src/Player.js"></script>
    <script type="text/javascript" src="/src/localGame.js"></script>
    <script>
        var socket = io();
        var canvasobj;
        var playerobj;
        //setup of how the canvas should look at the beginning and setup server -> client handshake and information
        socket.on('onconnected', function (data) {
            playerobj = new player(data.id, socket);
            $("#id").text("Client: " + data.id);
            //get canvas object
            canvasObj = new Canvas(playerobj, socket);

            //programitcally create canvas element and get values from canvas class
            var canvas = document.getElementById('canvas').appendChild(canvasObj.createCanvas("front menu"));
            canvasObj.modifyCanvas(canvas, "front menu");

            playerobj.playerCreateALobby();
        });

        //notifys the user a lobby has been created
        socket.on('lobbyCreated', function (data) {
            canvasObj.lobbyCreated(data.lobbyID);
        });

        //Notifys client they have joined the lobby
        socket.on('userJoinedLobby', function (data) {
            playerobj.joinedLobby(data.lobbyID);
        });

    </script>
    <h1 id="lobbyInstance"></h1>
</body>
</html>
